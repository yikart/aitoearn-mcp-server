# AiToEarn MCP(中文文档) [English](README.md)

一个模型上下文协议（MCP）服务器，为AI驱动的内容创作和自动化提供社交媒体发布和账户管理功能。

## 🚀 功能特性

- **账户管理**：检索和管理社交媒体账户
- **内容发布**：将视频和文章内容发布到社交媒体平台
- **批量操作**：同时将内容发布到多个账户
- **类型验证**：基于内容类型要求的自动验证
- **错误处理**：提供详细反馈的综合错误处理

## 📋 系统要求

- Node.js >= 18.0.0
- npm 或 yarn
- 有效API密钥的AiToEarn API访问权限

## 🛠️ 安装

### 通过 npm 安装（推荐）

```bash
npm install aitoearn-mcp
```

### 通过 GitHub 安装

1. 克隆仓库：
```bash
git clone https://github.com/aitoearn/aitoearn-mcp-server.git
cd aitoearn-mcp
```

2. 安装依赖：
```bash
npm install
```

3. 构建项目：
```bash
npm run build
```

## 🔧 使用方法

### 作为全局CLI工具使用

全局安装后：
```bash
npm install -g aitoearn-mcp
aitoearn-mcp
```

### 作为本地包使用

本地安装后：
```bash
npm install aitoearn-mcp
npx aitoearn-mcp
```

### 编程方式使用

```javascript
import { spawn } from 'child_process';

// 启动MCP服务器作为子进程
const server = spawn('npx', ['aitoearn-mcp']);

server.stdout.on('data', (data) => {
  console.log(`服务器: ${data}`);
});
```

### 运行MCP服务器

```bash
npm start
```

### 可用工具

#### 1. get-skKey
打开Aitoearn平台网站进行账户管理和平台访问。

#### 2. create-publish-list
批量发布内容到与您的API密钥关联的所有账户。

**参数：**
- `skKey` (字符串)：您的AiToEarn API密钥
- `type` (字符串)：内容类型（"video" 或 "article"）
- `title` (字符串)：内容标题
- `coverUrl` (字符串)：封面图片URL
- `topics` (字符串)：逗号分隔的话题/标签
- `desc` (字符串，可选)：内容描述
- `videoUrl` (字符串)：视频URL（视频类型必需）
- `imgUrlList` (字符串)：逗号分隔的图片URL（文章类型必需）
- `publishTime` (字符串，可选)：计划发布时间

**示例（视频）：**
```json
{
  "skKey": "sk-YOUR_API_KEY_HERE",
  "type": "video",
  "title": "我的精彩视频",
  "videoUrl": "https://example.com/video.mp4",
  "coverUrl": "https://example.com/cover.jpg",
  "topics": "生活方式,娱乐"
}
```

**示例（文章）：**
```json
{
  "skKey": "sk-YOUR_API_KEY_HERE",
  "type": "article",
  "title": "我的文章标题",
  "imgUrlList": "https://example.com/img1.jpg,https://example.com/img2.jpg",
  "coverUrl": "https://example.com/cover.jpg",
  "topics": "技术,创新"
}
```

### MCP客户端配置

#### Claude Desktop

将服务器配置添加到您的Claude Desktop配置文件中：

**macOS/Linux：** `~/Library/Application Support/Claude/claude_desktop_config.json`
**Windows：** `%APPDATA%/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "aitoearn": {
      "command": "npx",
      "args": ["aitoearn-mcp"]
    }
  }
}
```

或者如果是全局安装：

```json
{
  "mcpServers": {
    "aitoearn": {
      "command": "aitoearn-mcp"
    }
  }
}
```

#### 其他MCP客户端

对于其他MCP客户端，请参考其文档了解如何配置MCP服务器。该服务器通过stdio传输运行。

**描述：**
此工具提供关于AiToEarn平台（https://aitoearn.ai）的信息，包括：
- 账户管理和配置
- 内容创建和调度
- 分析和性能跟踪
- API密钥管理
- 社交媒体账户集成

## 🏗️ 内容类型要求

### 视频内容 (`type: "video"`)
- **必需**：`videoUrl` - 视频文件URL
- **可选**：`imgUrlList` - 附加图片

### 文章内容 (`type: "article"`)
- **必需**：`imgUrlList` - 逗号分隔的图片URL列表
- **可选**：`videoUrl` - 附加视频内容

## 🔍 错误处理

服务器提供包含详细错误消息的综合错误处理：

- **验证错误**：关于缺少必需字段的清晰消息
- **API错误**：关于API通信问题的详细信息
- **网络错误**：连接问题的有用指导
- **认证错误**：关于API密钥问题的清晰反馈

## 🧪 开发

### 构建
```bash
npm run build
```

### 开发模式
```bash
npm run dev
```

## 📄 许可证

本项目采用MIT许可证 - 详情请参阅[LICENSE](LICENSE)文件。

## 🔗 相关链接

- [ModelScope MCP文档](https://modelscope.cn/docs/mcp/create)
- [模型上下文协议规范](https://spec.modelcontextprotocol.io/)
- [AiToEarn平台](https://aitoearn.ai)